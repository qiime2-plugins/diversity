webpackJsonp([0],[function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=r(1),l=a(n);(0,l.default)()},function(t,e,r){"use strict";function a(){var t=metrics[0],e=categories[0],r=(0,n.select)("#main"),a=r.insert("div",":first-child").attr("class","viz row"),c=a.append("div").attr("class","col-lg-12"),s=c.append("div").attr("class","controls row"),o=a.append("div").attr("class","col-lg-10"),u=o.append("svg"),d=u.append("g");d.append("g").attr("class","x axis"),d.append("g").attr("class","y axis"),d.append("text").attr("class","x label"),d.append("text").attr("class","y label");var f=a.append("div").attr("class","col-lg-2").style("height","450px").style("float","left").style("overflow-y","scroll").style("overflow-x","auto").append("svg").attr("viewBox","0 0 200 1000").attr("class","legend").append("g");r.insert("h1",":first-child").text("Alpha Rarefaction"),l.state.initialize(t,e,s,u,f),(0,i.addMetricPicker)(s,metrics,t),categories.length>0&&(0,i.addCategoryPicker)(s,categories,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(2),l=r(3),i=r(6)},,function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){var r="Sequencing Depth",a=e,n=1/0,l=0,i=1/0,c=0,s=t.columns.indexOf("depth"),o=t.columns.indexOf("min"),u=t.columns.indexOf("max");return t.data.forEach(function(t){var e=t[s];e<n&&(n=e),e>l&&(l=e),t[o]<i&&(i=t[o]),t[u]>c&&(c=t[u])}),{data:t,xAxisLabel:r,yAxisLabel:a,minX:n,maxX:l,minY:i,maxY:c}}function i(t,e,r,a,n){a.attr("href",t+".csv");var i=d[t];e&&(i=d[t][e]);var c=l(i,t);(0,o.default)(r,c,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.state=void 0;var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}();e.default=l;var s=r(4),o=a(s),u=null,f=function(){function t(){return n(this,t),u||(u=this),this.category="",this.metric="",this.svg=null,this.href=null,this.legend=null,u}return c(t,[{key:"initialize",value:function(t,e,r,a,n){var l=r.append("div").attr("class","col-lg-2 form-group downloadCSV");this.href=l.append("a").attr("href","").text("Download CSV"),this.svg=a,this.metric=t,this.category=e,this.legend=n,i(t,e,this.svg,this.href,this.legend)}},{key:"setCategory",value:function(t){this.category=t,i(this.metric,this.category,this.svg,this.href,this.legend)}},{key:"setMetric",value:function(t){this.metric=t,i(this.metric,this.category,this.svg,this.href,this.legend)}},{key:"getCategory",value:function(){return this.category}},{key:"getMetric",value:function(){return this.metric}}]),t}();e.state=new f},function(t,e,r){"use strict";function a(t,e,r){var a=e?0:1;console.log("selectAll(",".dot"+r.replace(" ","-"),") ","results: ",t.selectAll(".dot"+r.replace(" ","-")),"from data: ",t.selectAll("circle")),t.selectAll(".dot"+r.replace(" ","-")).style("opacity",a)}function n(t,e){console.log(t,e)}function l(t,e,r,a,n){var l=(0,u.select)("#id"+e+t.replace(" ","-")),i="white"!==l.style("fill"),c=i?"white":r;if(l.style("fill",c),"Select All"===t){var s=!0,o=!1,d=void 0;try{for(var f,p=n[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;(0,u.select)("#id"+e+h.replace(" ","-")).style("fill",i?"white":a(h))}}catch(t){o=!0,d=t}finally{try{!s&&p.return&&p.return()}finally{if(o)throw d}}}return i}function i(t,e,r,i,c,s,o,u){t.append("rect").attr("id","idrect"+r.replace(" ","-")).attr("class","legend").attr("x",0).attr("y",i-2.5).attr("width",15).attr("height",5).style("stroke","darkGrey").style("fill","white").on("click",function(){var t=l(r,"rect",c,s,o);n(r,t)}),t.append("circle").attr("id","idcircle"+r.replace(" ","-")).attr("class","legend").attr("cx",30).attr("cy",i).attr("r",5).style("stroke","darkGrey").style("fill",c).on("click",function(){var t=l(r,"circle",c,s,o);a(u,t,r)}),t.append("text").attr("class","legend").attr("x",40).attr("y",i+5).style("font","10px sans-serif").text(r)}function c(t,e,r,a,n,l){var c=t.select("g"),s=e.data.columns.indexOf("depth"),d=e.data.columns.indexOf("median"),f=e.data.columns.indexOf("sample-id");f===-1&&(f=e.data.columns.indexOf(n));var p=[e.data.data.sort(function(t,e){return t[s]-e[s]})][0],h=new Set(Array.from(p,function(t){return t[f]})),v=(0,u.scaleOrdinal)(u.schemeCategory20).domain(h);c.selectAll("circle").remove(),c.selectAll("dot").data(p).enter().append("circle").attr("cx",function(t){return r(t[s])}).attr("cy",function(t){return a(t[d])}).attr("r",4).style("stroke",function(t){return v(t[f])}).style("fill",function(t){return v(t[f])}).attr("class",function(t){return"dot"+t[f].replace(" ","-")}),l.selectAll(".legend").remove();var y=Array.from(h);l.attr("height",20*y.length);var g=0,m=(0,u.select)(l.node().parentNode);i(m,0,"Select All",10,"black",v,y,c);var x=!0,b=!1,w=void 0;try{for(var k,A=y.entries()[Symbol.iterator]();!(x=(k=A.next()).done);x=!0){var M=o(k.value,2),O=M[0],_=M[1];g=20*(O+1.5);var P=v(_);i(l,O+1,_,g,P,v,y,c)}}catch(t){b=!0,w=t}finally{try{!x&&A.return&&A.return()}finally{if(b)throw w}}m.attr("viewBox","0 0 200 "+(g+10))}function s(t,e,r,a){var n=400,l=1e3,i={top:20,left:70,right:50,bottom:50},s=t.select("g"),o=e.xAxisLabel,f=e.yAxisLabel,p=e.minX,h=e.maxX,v=e.minY,y=e.maxY,g=(0,u.axisBottom)(),m=(0,u.axisLeft)(),x=.03*(h-p);if(Number.isInteger(p)&&Number.isInteger(h)){x=Math.max(Math.round(x),1);var b=Math.max(3,h-p+2*x);g.ticks(Math.min(b,12),"d")}var w=(0,u.scaleLinear)().domain([p-x,h+x]).range([0,l]).nice(),k=(0,u.scaleLinear)().domain([v,y]).range([n,0]).nice();g.scale(w),m.scale(k),s.attr("transform","translate("+i.left+","+i.top+")"),(0,d.setupXLabel)(t,l,n,o,g),(0,d.setupYLabel)(t,n,f,m),c(t,e,w,k,r,a),t.attr("width",l+i.left+i.right).attr("height",n+i.bottom+i.top)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var r=[],a=!0,n=!1,l=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(n)throw l}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=s;var u=r(2),d=r(5)},function(t,e){"use strict";function r(t,e,r,a,n){t.select(".x.axis").attr("transform","translate(0,"+r+")").call(n),t.select(".x.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate("+e/2+","+(r+40)+")").text(a)}function a(t,e,r,a){t.select(".y.axis").call(a),t.select(".y.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate(-50,"+e/2+")rotate(-90)").text(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.setupXLabel=r,e.setupYLabel=a},function(t,e,r){"use strict";function a(t,e,r){var a=t.append("div").attr("class","col-lg-2 form-group metricPicker");return a.append("label").text("Metric"),a.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];l.state.setMetric(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),a}function n(t,e,r){var a=t.append("div").attr("class","col-lg-2 form-group categoryPicker");return a.append("label").text("Sample Metadata Column"),a.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];l.state.setCategory(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),a}Object.defineProperty(e,"__esModule",{value:!0}),e.addMetricPicker=a,e.addCategoryPicker=n;var l=r(3)}]);