webpackJsonp([0],[function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=r(1),l=a(n);(0,l.default)()},function(t,e,r){"use strict";function a(){var t=metrics[0],e=categories[0],r=(0,n.select)("#main"),a=r.insert("div",":first-child").attr("class","viz row"),s=r.insert("div",":first-child").attr("class","viz row"),c=s.append("div").attr("class","col-lg-12"),o=a.append("div").attr("class","col-lg-9").style("min-width","1120px").style("max-width","1120px"),d=a.append("div").style("height","470px").attr("class","col-lg-2"),u=o.append("svg").attr("viewBox","0 0 1120 470"),f=u.append("g");f.append("g").attr("class","x axis"),f.append("g").attr("class","y axis"),f.append("text").attr("class","x label"),f.append("text").attr("class","y label");var p=d.append("div").style("height","25px").style("width","300px").style("overflow-y","hidden").style("overflow-x","auto").append("svg").attr("viewBox","0 0 200 20").attr("class","legendTitleSvg").append("g").attr("class","legendTitle"),h=d.append("div").style("height","445px").style("width","300px").style("overflow-y","scroll").style("overflow-x","auto").attr("class","legendBoxDiv").append("svg").attr("viewBox","0 0 300 445").attr("class","legendBoxSvg").append("g");r.insert("h1",":first-child").text("Alpha Rarefaction"),l.state.initialize(t,e,c,u,h,p),(0,i.addMetricPicker)(c,metrics,t),categories.length>0&&(0,i.addCategoryPicker)(c,categories,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(2),l=r(3),i=r(6)},,function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){var r="Sequencing Depth",a=e,n=1/0,l=0,i=1/0,s=0,c=t.columns.indexOf("depth"),o=t.columns.indexOf("min"),d=t.columns.indexOf("max");return t.data.forEach(function(t){var e=t[c];e<n&&(n=e),e>l&&(l=e),t[o]<i&&(i=t[o]),t[d]>s&&(s=t[d])}),{data:t,xAxisLabel:r,yAxisLabel:a,minX:n,maxX:l,minY:i,maxY:s}}function i(t,e,r,a,n,i){a.attr("action",t+".csv");var s=d[t];e&&(s=d[t][e]);var c=l(s,t);(0,o.default)(r,c,e,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.state=void 0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}();e.default=l;var c=r(4),o=a(c),u=null,f=function(){function t(){return n(this,t),u||(u=this),this.category="",this.metric="",this.svg=null,this.href=null,this.legend=null,this.legendTitle=null,u}return s(t,[{key:"initialize",value:function(t,e,r,a,n,l){var s=r.append("div").attr("class","col-lg-2 form-group downloadCSV");this.href=s.append("form").attr("method","GET").attr("action","#"),this.href.append("button").attr("class","btn btn-block btn-primary btn-md form-control").attr("role","button").attr("aria-pressed","true").text("Download CSV"),this.svg=a,this.metric=t,this.category=e,this.legend=n,this.legendTitle=l,i(t,e,this.svg,this.href,this.legend,this.legendTitle)}},{key:"setCategory",value:function(t){this.category=t,i(this.metric,this.category,this.svg,this.href,this.legend,this.legendTitle)}},{key:"setMetric",value:function(t){this.metric=t,i(this.metric,this.category,this.svg,this.href,this.legend,this.legendTitle)}},{key:"getCategory",value:function(){return this.category}},{key:"getMetric",value:function(){return this.metric}}]),t}();e.state=new f},function(t,e,r){"use strict";function a(t){for(var e="c",r=0;r<t.length;r+=1)e=""+e+t.charCodeAt(r)+"x";return e}function n(t,e,r,n){var l=n?0:1;"Select All"===t?r.selectAll("."+e).style("opacity",l):r.selectAll("."+e+a(t)).style("opacity",l)}function l(t,e,r,n,l){var i=(0,d.select)("#id"+e+a(t)),s="white"!==i.style("fill"),c=s?"white":r;if(i.style("fill",c),"Select All"===t){var o=!0,u=!1,f=void 0;try{for(var p,h=l[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var v=p.value;(0,d.select)("#id"+e+a(v)).style("fill",s?"white":n(v))}}catch(t){u=!0,f=t}finally{try{!o&&h.return&&h.return()}finally{if(u)throw f}}}return s}function i(t,e,r,i,s,c,o,d){t.append("rect").attr("id","idrect"+a(r)).attr("class","legend").attr("x",0).attr("y",i-2.5).attr("width",15).attr("height",5).style("stroke","darkGrey").style("fill","white").on("click",function(){var t=l(r,"rect",s,c,o);n(r,"line",d,t)}),t.append("circle").attr("id","idcircle"+a(r)).attr("class","legend").attr("cx",30).attr("cy",i).attr("r",5).style("stroke","darkGrey").style("fill",s).on("click",function(){var t=l(r,"circle",s,c,o);n(r,"circle",d,t)}),t.append("text").attr("class","legend").attr("x",40).attr("y",i+5).style("font","10px sans-serif").text(r)}function s(t,e,r,n,l,s,c){var u=t.select("g"),f=e.data.columns.indexOf("depth"),p=e.data.columns.indexOf("median"),h=e.data.columns.indexOf("sample-id");h===-1&&(h=e.data.columns.indexOf(l));var v=[e.data.data.sort(function(t,e){return t[f]-e[f]})][0],y=new Set(Array.from(v,function(t){return t[h]})),g=(0,d.scaleOrdinal)(d.schemeCategory20).domain(y),m=Array.from(y),x=(0,d.select)(s.node().parentNode);s.selectAll(".legend").remove(),c.selectAll(".legend").remove(),u.selectAll(".circle").remove(),u.selectAll(".line").remove(),s.attr("height",20*m.length);var b=0,w=(0,d.line)().x(function(t){return r(t[f])}).y(function(t){return n(t[p])});i(c,0,"Select All",10,"black",g,m,u);var k=!0,A=!1,M=void 0;try{for(var O,S=function(){var t=o(O.value,2),e=t[0],l=t[1];b=20*(e+.5),i(s,e+1,l,b,g(l),g,m,u);var c=v.filter(function(t){return t[h]===l}).sort(function(t,e){return t[f]-e[f]}),d=g(c);u.append("path").attr("d",w(c)).style("stroke",d).style("opacity",0).style("fill","none").attr("class","line"+a(l)+" line"),u.selectAll("dot").data(c).enter().append("circle").attr("cx",function(t){return r(t[f])}).attr("cy",function(t){return n(t[p])}).attr("r",4).style("stroke",d).style("fill",d).attr("class",function(t){return"circle"+a(t[h])+" circle"})},_=m.entries()[Symbol.iterator]();!(k=(O=_.next()).done);k=!0)S()}catch(t){A=!0,M=t}finally{try{!k&&_.return&&_.return()}finally{if(A)throw M}}x.attr("viewBox","0 0 200 "+(b+10))}function c(t,e,r,a,n){var l=400,i=1e3,c={top:20,left:70,right:50,bottom:50},o=t.select("g"),f=e.xAxisLabel,p=e.yAxisLabel,h=e.minX,v=e.maxX,y=e.minY,g=e.maxY,m=(0,d.axisBottom)(),x=(0,d.axisLeft)(),b=.03*(v-h);if(Number.isInteger(h)&&Number.isInteger(v)){b=Math.max(Math.round(b),1);var w=Math.max(3,v-h+2*b);m.ticks(Math.min(w,12),"d")}var k=(0,d.scaleLinear)().domain([h-b,v+b]).range([0,i]).nice(),A=(0,d.scaleLinear)().domain([y,g]).range([l,0]).nice();m.scale(k),x.scale(A),o.attr("transform","translate("+c.left+","+c.top+")"),(0,u.setupXLabel)(t,i,l,f,m),(0,u.setupYLabel)(t,l,p,x),s(t,e,k,A,r,a,n),t.attr("width",i+c.left+c.right).attr("height",l+c.bottom+c.top)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var r=[],a=!0,n=!1,l=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,l=t}finally{try{!a&&s.return&&s.return()}finally{if(n)throw l}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=c;var d=r(2),u=r(5)},function(t,e){"use strict";function r(t,e,r,a,n){t.select(".x.axis").attr("transform","translate(0,"+r+")").call(n),t.select(".x.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate("+e/2+","+(r+40)+")").text(a)}function a(t,e,r,a){t.select(".y.axis").call(a),t.select(".y.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate(-50,"+e/2+")rotate(-90)").text(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.setupXLabel=r,e.setupYLabel=a},function(t,e,r){"use strict";function a(t,e,r){var a=t.append("div").attr("class","col-lg-2 form-group metricPicker");return a.append("label").text("Metric"),a.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];l.state.setMetric(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),a}function n(t,e,r){var a=t.append("div").attr("class","col-lg-3 form-group categoryPicker");return a.append("label").text("Sample Metadata Column"),a.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];l.state.setCategory(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),a}Object.defineProperty(e,"__esModule",{value:!0}),e.addMetricPicker=a,e.addCategoryPicker=n;var l=r(3)}]);