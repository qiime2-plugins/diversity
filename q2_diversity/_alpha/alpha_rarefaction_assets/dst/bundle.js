webpackJsonp([0],[function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=r(1),i=a(n);(0,i.default)()},function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(){var t=metrics[0],e=categories[0],r=(0,i.select)("#main"),a=r.insert("div",":first-child").attr("class","viz row"),n=r.insert("div",":first-child").attr("class","viz row"),l=n.append("div").attr("class","col-lg-12"),s=a.append("div").attr("class","col-lg-9").style("min-width","1120px").style("max-width","1120px"),u=a.append("div").style("height","470px").attr("class","col-lg-2"),d=s.append("svg").attr("viewBox","0 0 1120 470"),f=d.append("g");f.append("g").attr("class","x axis"),f.append("g").attr("class","y axis"),f.append("text").attr("class","x label"),f.append("text").attr("class","y label");var p=u.append("div").style("height","25px").style("width","300px").style("overflow-y","hidden").style("overflow-x","auto").append("svg").attr("viewBox","0 0 200 20").attr("class","legendTitleSvg").append("g").attr("class","legendTitle"),v=u.append("div").style("height","445px").style("width","300px").style("overflow-y","scroll").style("overflow-x","auto").attr("class","legendBoxDiv").append("svg").attr("viewBox","0 0 300 445").attr("class","legendBoxSvg").append("g");r.insert("h1",":first-child").text("Alpha Rarefaction"),c.default.initialize(t,e,l,d,v,p),(0,o.addMetricPicker)(l,metrics,t),categories.length>0&&(0,o.addCategoryPicker)(l,categories,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var i=r(2),l=r(3),c=a(l),o=r(8)},,function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r,a,n,i){a.attr("action",t+".csv");var l=d[t];e&&(l=d[t][e]);var o=(0,c.setupData)(l,t);(0,s.default)(r,o,e,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),c=r(4),o=r(5),s=a(o),u=null,f=function(){function t(){return n(this,t),u||(u=this),this.category="",this.metric="",this.svg=null,this.href=null,this.legend=null,this.legendTitle=null,u}return l(t,[{key:"initialize",value:function(t,e,r,a,n,l){var c=r.append("div").attr("class","col-lg-2 form-group downloadCSV");this.href=c.append("form").attr("method","GET").attr("action","#"),this.href.append("button").attr("class","btn btn-block btn-primary btn-md form-control").attr("role","button").attr("aria-pressed","true").text("Download CSV"),this.svg=a,this.metric=t,this.category=e,this.legend=n,this.legendTitle=l,i(t,e,this.svg,this.href,this.legend,this.legendTitle)}},{key:"setCategory",value:function(t){this.category=t,i(this.metric,this.category,this.svg,this.href,this.legend,this.legendTitle)}},{key:"setMetric",value:function(t){this.metric=t,i(this.metric,this.category,this.svg,this.href,this.legend,this.legendTitle)}},{key:"getCategory",value:function(){return this.category}},{key:"getMetric",value:function(){return this.metric}},{key:"getSvg",value:function(){return this.svg}}]),t}(),p=new f;e.default=p},function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var r="Sequencing Depth",a=e,n=1/0,i=0,l=1/0,c=0,o=t.columns.indexOf("depth"),s=t.columns.indexOf("min"),u=t.columns.indexOf("max");return t.data.forEach(function(t){var e=t[o];e<n&&(n=e),e>i&&(i=e),t[s]<l&&(l=t[s]),t[u]>c&&(c=t[u])}),{data:t,xAxisLabel:r,yAxisLabel:a,minX:n,maxX:i,minY:l,maxY:c}}function i(t,e,r){s[t]=e,s[t].dotsOpacity=1,s[t].lineOpacity=0,s[t].dots=r,s[t].line=r}function l(t,e,r){null!==e&&(s[t].dots=e,s[t].dotsOpacity="white"===e?0:1,o.default.getSvg().selectAll('[class="circle '+t+'"]').attr("opacity",s[t].dotsOpacity)),null!==r&&(s[t].line=r,s[t].lineOpacity="white"===r?0:1,o.default.getSvg().selectAll('[class="line '+t+'"]').attr("opacity",s[t].lineOpacity))}Object.defineProperty(e,"__esModule",{value:!0}),e.curData=void 0,e.setupData=n,e.appendSeries=i,e.toggle=l;var c=r(3),o=a(c),s={};e.curData=s},function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e,r,a,n,i,o){function s(t){t.transition().attr("class",function(t){return"circle "+t[y]}).attr("fill",function(t){return x(t[y])}).attr("opacity",function(t){return d.curData[t[y]].dotsOpacity}).attr("stroke",function(t){return x(t[y])}).attr("cx",function(t){return r(t[p])}).attr("cy",function(t){return a(t[v])})}var f=t.select("g"),p=e.data.columns.indexOf("depth"),v=e.data.columns.indexOf("median"),y=e.data.columns.indexOf("sample-id");y===-1&&(y=e.data.columns.indexOf(n));var h=[e.data.data.sort(function(t,e){return t[p]-e[p]})][0],g=new Set(Array.from(h,function(t){return t[y]})),x=(0,c.scaleOrdinal)(c.schemeCategory20).domain(g),m=Array.from(g),b=(0,c.select)(i.node().parentNode);i.selectAll(".legend").remove(),o.selectAll(".legend").remove(),i.attr("height",20*m.length);var w=0,k="Select%20All";(0,d.appendSeries)(k,[],"black"),(0,d.toggle)(k,null,"white"),(0,u.default)(o,k,10,x);var O=!0,_=!1,M=void 0;try{for(var D,S=function(){var t=l(D.value,2),e=t[0],r=t[1];w=20*(e+.5);var a=h.filter(function(t){return t[y]===r}).sort(function(t,e){return t[p]-e[p]}),n=x(r);(0,d.appendSeries)(r,a,n),(0,d.toggle)(r,null,"white"),(0,u.default)(i,r,w,x)},A=m.entries()[Symbol.iterator]();!(O=(D=A.next()).done);O=!0)S()}catch(t){_=!0,M=t}finally{try{!O&&A.return&&A.return()}finally{if(_)throw M}}var P=f.selectAll(".circle").data(h);P.exit().transition().remove();var j=P.enter().append("circle").attr("r",4);P.call(s),j.call(s),b.attr("viewBox","0 0 200 "+(w+10));var L=(0,c.line)().x(function(t){return r(t[p])}).y(function(t){return a(t[v])}),C=(0,c.nest)().key(function(t){return t[y]}).entries(h),T=f.selectAll(".line").data(C);T.exit().transition().remove(),T.enter().append("path").attr("class",function(t){return"line "+t.key}).attr("stroke",function(t){return x(t.key)}).attr("opacity",function(t){return d.curData[t.key].lineOpacity}).attr("fill","none").attr("d",function(t){return L(t.values)}),T.attr("class",function(t){return"line "+t.key}).attr("stroke",function(t){return x(t.key)}).attr("opacity",function(t){return d.curData[t.key].lineOpacity}).attr("d",function(t){return L(t.values)})}function i(t,e,r,a,i){var l=400,s=1e3,u={top:20,left:70,right:50,bottom:50},d=t.select("g"),f=e.xAxisLabel,p=e.yAxisLabel,v=e.minX,y=e.maxX,h=e.minY,g=e.maxY,x=(0,c.axisBottom)(),m=(0,c.axisLeft)(),b=.03*(y-v);if(Number.isInteger(v)&&Number.isInteger(y)){b=Math.max(Math.round(b),1);var w=Math.max(3,y-v+2*b);x.ticks(Math.min(w,12),"d")}var k=(0,c.scaleLinear)().domain([v-b,y+b]).range([0,s]).nice(),O=(0,c.scaleLinear)().domain([h,g]).range([l,0]).nice();x.scale(k),m.scale(O),d.attr("transform","translate("+u.left+","+u.top+")"),(0,o.setupXLabel)(t,s,l,f,x),(0,o.setupYLabel)(t,l,p,m),n(t,e,k,O,r,a,i),t.attr("width",s+u.left+u.right).attr("height",l+u.bottom+u.top)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var r=[],a=!0,n=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done)&&(r.push(l.value),!e||r.length!==e);a=!0);}catch(t){n=!0,i=t}finally{try{!a&&c.return&&c.return()}finally{if(n)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i;var c=r(2),o=r(6),s=r(7),u=a(s),d=r(4)},function(t,e){"use strict";function r(t,e,r,a,n){t.select(".x.axis").attr("transform","translate(0,"+r+")").call(n),t.select(".x.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate("+e/2+","+(r+40)+")").text(a)}function a(t,e,r,a){t.select(".y.axis").call(a),t.select(".y.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate(-50,"+e/2+")rotate(-90)").text(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.setupXLabel=r,e.setupYLabel=a},function(t,e,r){"use strict";function a(t,e,r,a){var l="Select%20All",c=t.append("rect").attr("id","rect"+e).attr("class","legend rect").attr("x",0).attr("y",r-2.5).attr("width",15).attr("height",5).attr("stroke","darkGrey").attr("fill",i.curData[e].line);c.on("click",function(){var t=0===i.curData[e].lineOpacity;if(e===l){var r=!0,o=!1,s=void 0;try{for(var u,d=Object.keys(i.curData).slice(1)[Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var f=u.value,p=(0,n.select)('[id="rect'+f+'"]'),v=t?a(f):"white";(0,i.toggle)(f,null,v),p.attr("fill",i.curData[f].line)}}catch(t){o=!0,s=t}finally{try{!r&&d.return&&d.return()}finally{if(o)throw s}}}var y=e===l?"black":a(e),h=t?y:"white";(0,i.toggle)(e,null,h),c.attr("fill",i.curData[e].line)});var o=t.append("circle").attr("id","dot"+e).attr("class","legend circle").attr("cx",30).attr("cy",r).attr("r",5).attr("stroke","darkGrey").attr("fill",i.curData[e].dots);o.on("click",function(){var t=0===i.curData[e].dotsOpacity;if(e===l){var r=!0,c=!1,s=void 0;try{for(var u,d=Object.keys(i.curData).slice(1)[Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var f=u.value,p=(0,n.select)('[id="dot'+f+'"]'),v=t?a(f):"white";(0,i.toggle)(f,v,null),p.attr("fill",i.curData[f].dots)}}catch(t){c=!0,s=t}finally{try{!r&&d.return&&d.return()}finally{if(c)throw s}}}var y=e===l?"black":a(e),h=t?y:"white";(0,i.toggle)(e,h,null),o.attr("fill",i.curData[e].dots)}),t.append("text").attr("class","legend").attr("x",40).attr("y",r+5).attr("font","10px sans-serif").text(decodeURI(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(2),i=r(4)},function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e,r){var a=t.append("div").attr("class","col-lg-2 form-group metricPicker");return a.append("label").text("Metric"),a.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];c.default.setMetric(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),a}function i(t,e,r){var a=t.append("div").attr("class","col-lg-3 form-group categoryPicker");return a.append("label").text("Sample Metadata Column"),a.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];c.default.setCategory(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),a}Object.defineProperty(e,"__esModule",{value:!0}),e.addMetricPicker=n,e.addCategoryPicker=i;var l=r(3),c=a(l)}]);