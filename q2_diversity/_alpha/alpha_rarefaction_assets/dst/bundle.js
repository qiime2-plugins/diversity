webpackJsonp([0],[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=r(1),i=n(a);(0,i.default)()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(){var t=metrics[0],e=categories[0],r=(0,i.select)("#main"),n=r.insert("div",":first-child").attr("class","viz row"),a=r.insert("div",":first-child").attr("class","viz row"),l=a.append("div").attr("class","col-lg-12"),c=n.append("div").attr("class","col-lg-9").style("min-width","1120px").style("max-width","1120px"),u=n.append("div").style("height","470px").attr("class","col-lg-2"),d=c.append("svg").attr("viewBox","0 0 1120 470"),f=d.append("g");f.append("g").attr("class","x axis"),f.append("g").attr("class","y axis"),f.append("text").attr("class","x label"),f.append("text").attr("class","y label");var p=u.append("div").style("height","25px").style("width","300px").style("overflow-y","hidden").style("overflow-x","auto").append("svg").attr("viewBox","0 0 200 20").attr("class","legendTitleSvg").append("g").attr("class","legendTitle"),h=u.append("div").style("height","445px").style("width","300px").style("overflow-y","scroll").style("overflow-x","auto").attr("class","legendBoxDiv").append("svg").attr("viewBox","0 0 300 445").attr("class","legendBoxSvg").append("g");r.insert("h1",":first-child").text("Alpha Rarefaction"),s.default.initialize(t,e,l,d,h,p),(0,o.addMetricPicker)(l,metrics,t),categories.length>0&&(0,o.addCategoryPicker)(l,categories,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=r(2),l=r(3),s=n(l),o=r(8)},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r,n,a,i){n.attr("action",t+".csv");var l=d[t];e&&(l=d[t][e]);var o=(0,s.setupData)(l,t);(0,c.default)(r,o,e,a,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(4),o=r(5),c=n(o),u=null,f=function(){function t(){return a(this,t),u||(u=this),this.category="",this.metric="",this.svg=null,this.href=null,this.legend=null,this.legendTitle=null,u}return l(t,[{key:"initialize",value:function(t,e,r,n,a,l){var s=r.append("div").attr("class","col-lg-2 form-group downloadCSV");this.href=s.append("form").attr("method","GET").attr("action","#"),this.href.append("button").attr("class","btn btn-block btn-primary btn-md form-control").attr("role","button").attr("aria-pressed","true").text("Download CSV"),this.svg=n,this.metric=t,this.category=e,this.legend=a,this.legendTitle=l,i(t,e,this.svg,this.href,this.legend,this.legendTitle)}},{key:"setCategory",value:function(t){this.category=t,i(this.metric,this.category,this.svg,this.href,this.legend,this.legendTitle)}},{key:"setMetric",value:function(t){this.metric=t,i(this.metric,this.category,this.svg,this.href,this.legend,this.legendTitle)}},{key:"getCategory",value:function(){return this.category}},{key:"getMetric",value:function(){return this.metric}}]),t}(),p=new f;e.default=p},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){var r="Sequencing Depth",n=e,a=1/0,i=0,l=1/0,s=0,o=t.columns.indexOf("depth"),c=t.columns.indexOf("min"),u=t.columns.indexOf("max");return t.data.forEach(function(t){var e=t[o];e<a&&(a=e),e>i&&(i=e),t[c]<l&&(l=t[c]),t[u]>s&&(s=t[u])}),{data:t,xAxisLabel:r,yAxisLabel:n,minX:a,maxX:i,minY:l,maxY:s}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.setupData=n;var i=null,l=function(){function t(){return r(this,t),i||(i=this),this.series={},i}return a(t,[{key:"appendSeries",value:function(t,e){this.series[t]=e,this.series[t].dots=0,this.series[t].line=0,console.log("append series: ",t,e)}},{key:"toggle",value:function(t,e,r){this.series[t].dots=e,this.series[t].line=r}},{key:"getSeries",value:function(t){return this.series[t]}},{key:"dots",value:function(t){return this.series[t].dots}},{key:"line",value:function(t){return this.series[t].line}}]),t}();e.curData=new l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r,n,a,i,o){var c=t.select("g"),f=e.data.columns.indexOf("depth"),p=e.data.columns.indexOf("median"),h=e.data.columns.indexOf("sample-id");h===-1&&(h=e.data.columns.indexOf(a));var y=[e.data.data.sort(function(t,e){return t[f]-e[f]})][0],v=new Set(Array.from(y,function(t){return t[h]})),g=(0,s.scaleOrdinal)(s.schemeCategory20).domain(v),m=Array.from(v),x=(0,s.select)(i.node().parentNode);i.selectAll(".legend").remove(),o.selectAll(".legend").remove(),c.selectAll(".circle").remove(),c.selectAll(".line").remove(),i.attr("height",20*m.length);var b=0,w=(0,s.line)().x(function(t){return r(t[f])}).y(function(t){return n(t[p])});(0,u.default)(o,0,"Select%20All",10,"black",g,m,c);var k=!0,_=!1,M=void 0;try{for(var A,S=function(){var t=l(A.value,2),e=t[0],a=t[1];b=20*(e+.5);var s=y.filter(function(t){return t[h]===a}).sort(function(t,e){return t[f]-e[f]});d.curData.appendSeries(a,s),d.curData.toggle(a,1,0),(0,u.default)(i,e+1,a,b,g(a),g,m,c);var o=g(s);c.append("path").attr("d",w(d.curData.getSeries(a))).style("stroke",o).style("opacity",d.curData.line(a)).style("fill","none").attr("class","line").attr("id","idline"+a),c.selectAll("dot").data(d.curData.getSeries(a)).enter().append("circle").attr("cx",function(t){return r(t[f])}).attr("cy",function(t){return n(t[p])}).attr("r",4).style("stroke",o).style("opacity",d.curData.dots(a)).style("fill",o).attr("class","circle").attr("id",function(t){return"idcircle"+t[h]})},O=m.entries()[Symbol.iterator]();!(k=(A=O.next()).done);k=!0)S()}catch(t){_=!0,M=t}finally{try{!k&&O.return&&O.return()}finally{if(_)throw M}}x.attr("viewBox","0 0 200 "+(b+10))}function i(t,e,r,n,i){var l=400,c=1e3,u={top:20,left:70,right:50,bottom:50},d=t.select("g"),f=e.xAxisLabel,p=e.yAxisLabel,h=e.minX,y=e.maxX,v=e.minY,g=e.maxY,m=(0,s.axisBottom)(),x=(0,s.axisLeft)(),b=.03*(y-h);if(Number.isInteger(h)&&Number.isInteger(y)){b=Math.max(Math.round(b),1);var w=Math.max(3,y-h+2*b);m.ticks(Math.min(w,12),"d")}var k=(0,s.scaleLinear)().domain([h-b,y+b]).range([0,c]).nice(),_=(0,s.scaleLinear)().domain([v,g]).range([l,0]).nice();m.scale(k),x.scale(_),d.attr("transform","translate("+u.left+","+u.top+")"),(0,o.setupXLabel)(t,c,l,f,m),(0,o.setupYLabel)(t,l,p,x),a(t,e,k,_,r,n,i),t.attr("width",c+u.left+u.right).attr("height",l+u.bottom+u.top)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done)&&(r.push(l.value),!e||r.length!==e);n=!0);}catch(t){a=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i;var s=r(2),o=r(6),c=r(7),u=n(c),d=r(4)},function(t,e){"use strict";function r(t,e,r,n,a){t.select(".x.axis").attr("transform","translate(0,"+r+")").call(a),t.select(".x.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate("+e/2+","+(r+40)+")").text(n)}function n(t,e,r,n){t.select(".y.axis").call(n),t.select(".y.label").attr("text-anchor","middle").style("font","12px sans-serif").attr("transform","translate(-50,"+e/2+")rotate(-90)").text(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.setupXLabel=r,e.setupYLabel=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n?0:1;"Select%20All"===t?r.selectAll("."+e).style("opacity",a):r.selectAll('[id="id'+e+t+'"]').style("opacity",a)}function a(t,e,r,n,a){var i=(0,l.select)('[id="id'+e+t+'"]'),s="white"!==i.style("fill"),o=s?"white":r;if(i.style("fill",o),"Select%20All"===t){var c=!0,u=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var h=f.value;(0,l.select)('[id="id'+e+h+'"]').style("fill",s?"white":n(h))}}catch(t){u=!0,d=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw d}}}return s}function i(t,e,r,i,l,s,o,c){t.append("rect").attr("id","idrect"+r).attr("class","legend").attr("x",0).attr("y",i-2.5).attr("width",15).attr("height",5).style("stroke","darkGrey").style("fill","white").on("click",function(){var t=a(r,"rect",l,s,o);n(r,"line",c,t)}),t.append("circle").attr("id","iddot"+r).attr("class","legend").attr("cx",30).attr("cy",i).attr("r",5).style("stroke","darkGrey").style("fill",l).on("click",function(){var t=a(r,"dot",l,s,o);n(r,"circle",c,t)}),t.append("text").attr("class","legend").attr("x",40).attr("y",i+5).style("font","10px sans-serif").text(decodeURI(r))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var l=r(2)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){var n=t.append("div").attr("class","col-lg-2 form-group metricPicker");return n.append("label").text("Metric"),n.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];s.default.setMetric(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),n}function i(t,e,r){var n=t.append("div").attr("class","col-lg-3 form-group categoryPicker");return n.append("label").text("Sample Metadata Column"),n.append("select").attr("class","form-control").on("change",function(){var t=e[this.selectedIndex];s.default.setCategory(t)}).selectAll("option").data(e).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}).property("selected",function(t){return t===r}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.addMetricPicker=a,e.addCategoryPicker=i;var l=r(3),s=n(l)}]);